api:
  name: pets-service

provides:
  message:
    "pet/created": PetCreated 
  rest:
    "/pets":
      get:
        responses:
          '200': Pets
      post:
        requestBody: CreatePet
        responses:
          '201': Pet
          '400': BadRequest
    "/pets/{uuid}":
      get:
        responses:
          '200': Pet
          '404': NotFound
      put:
        requestBody: UpdatePet
        responses:
          '200': Pet
          '400': BadRequest
          '404': NotFound

consumes:
  message:
    "create-pet/internal": CreatePet 

  users-service: 
    rest:
      "/users/{uuid}":
        get:
          responses:
            '200': User
            '404': NotFound

schemas:
  Pet:
    type: object
    properties:
      uuid:
        type: string
      name:
        type: string
      age:
        type: integer
      breed:
        type: string
      ownerUuid:
        type: string

  Pets:
    type: array
    items:
      "$ref": Pet

  CreatePet:
    type: object
    properties:
      name:
        type: string
      age:
        type: integer
      breed:
        type: string
      ownerUuid:
        type: string

  UpdatePet:
    type: object
    properties:
      uuid:
        type: string
      name:
        type: string
      age:
        type: integer
      breed:
        type: string
      ownerUuid:
        type: string

  PetCreated:
    type: object
    properties:
      uuid:
        type: string
      name:
        type: string

  User:
    type: object
    properties:
      uuid:
        type: string

  BadRequest:
    type: object
    properties:
      message:
        type: string

  NotFound:
    type: object
    properties:
      message:
        type: string